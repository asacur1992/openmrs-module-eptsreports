INSERT INTO serialized_object(name,description,type,subtype,serialization_class,serialized_data,date_created,creator,date_changed,changed_by,retired,date_retired,retired_by,retire_reason,uuid) VALUES ('SQL PARA PRODUCAO DA LISTA DE PACIENTES COM CONSULTA CLINICA DUPLICADA NO MESMO DIA','São pacientes com mais de uma consulta clinica registada no mesmo dia','org.openmrs.module.reporting.dataset.definition.DataSetDefinition','org.openmrs.module.reporting.dataset.definition.SqlDataSetDefinition','org.openmrs.module.reporting.serializer.ReportingSerializer','<org.openmrs.module.reporting.dataset.definition.SqlDataSetDefinition id=\"1\" uuid=\"6c6f07a2-670e-47f5-9ed4-e39d610d555e\" retired=\"false\">\n  <name>SQL PARA PRODUCAO DA LISTA DE PACIENTES COM CONSULTA CLINICA DUPLICADA NO MESMO DIA</name>\n  <description>São pacientes com mais de uma consulta clinica registada no mesmo dia</description>\n  <creator id=\"2\" uuid=\"85a05c5e-1e3d-11e0-acca-000c29d83bf2\"/>\n  <dateCreated id=\"3\">2020-08-11 15:28:02 UTC</dateCreated>\n  <changedBy reference=\"2\"/>\n  <dateChanged id=\"4\">2020-08-12 06:41:16 UTC</dateChanged>\n  <parameters id=\"5\">\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"6\">\n      <name>startDate</name>\n      <label>Data Inicial</label>\n      <type>java.util.Date</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"7\">\n      <name>endDate</name>\n      <label>Data Final</label>\n      <type>java.util.Date</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"8\">\n      <name>location</name>\n      <label>US</label>\n      <type>org.openmrs.Location</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n  </parameters>\n  <id>2382</id>\n  <sqlQuery>select 	pid.identifier as NID,&#xd;\n		concat(ifnull(pn.given_name,&apos;&apos;),&apos; &apos;,ifnull(pn.middle_name,&apos;&apos;),&apos; &apos;,ifnull(pn.family_name,&apos;&apos;)) nome,&#xd;\n		consultaduplicada.encounter_datetime,&#xd;\n		consultaduplicada.encounters,&#xd;\nconsultaduplicada.patient_id&#xd;\nfrom &#xd;\n(&#xd;\n	select 	p.patient_id,date(encounter_datetime) as encounter_datetime,count(*) encounters&#xd;\n	from 	patient p		 &#xd;\n			inner join encounter e on p.patient_id=e.patient_id 		&#xd;\n	where 	e.voided=0 and p.voided=0 and e.encounter_type in (6,9) and e.location_id=:location and &#xd;\n			e.encounter_datetime between :startDate and :endDate&#xd;\n	group by p.patient_id,date(encounter_datetime)&#xd;\n	having count(*)&gt;=2&#xd;\n) consultaduplicada&#xd;\nleft join&#xd;\n(	select pid1.*&#xd;\n		from patient_identifier pid1&#xd;\n		inner join &#xd;\n			(&#xd;\n				select patient_id,min(patient_identifier_id) id &#xd;\n				from patient_identifier&#xd;\n				where voided=0&#xd;\n				group by patient_id&#xd;\n			) pid2&#xd;\n		where pid1.patient_id=pid2.patient_id and pid1.patient_identifier_id=pid2.id&#xd;\n) pid on pid.patient_id=consultaduplicada.patient_id&#xd;\nleft join &#xd;\n(	select pn1.*&#xd;\n	from person_name pn1&#xd;\n	inner join &#xd;\n		(&#xd;\n			select person_id,min(person_name_id) id &#xd;\n			from person_name&#xd;\n			where voided=0&#xd;\n			group by person_id&#xd;\n		) pn2&#xd;\n	where pn1.person_id=pn2.person_id and pn1.person_name_id=pn2.id&#xd;\n) pn on pn.person_id=consultaduplicada.patient_id</sqlQuery>\n</org.openmrs.module.reporting.dataset.definition.SqlDataSetDefinition>','2020-08-11 17:28:02',1,'2020-08-12 08:41:16',1,0,NULL,NULL,NULL,'6c6f07a2-670e-47f5-9ed4-e39d610d555e')
ON DUPLICATE KEY UPDATE
serialized_data='<org.openmrs.module.reporting.dataset.definition.SqlDataSetDefinition id=\"1\" uuid=\"6c6f07a2-670e-47f5-9ed4-e39d610d555e\" retired=\"false\">\n  <name>SQL PARA PRODUCAO DA LISTA DE PACIENTES COM CONSULTA CLINICA DUPLICADA NO MESMO DIA</name>\n  <description>São pacientes com mais de uma consulta clinica registada no mesmo dia</description>\n  <creator id=\"2\" uuid=\"85a05c5e-1e3d-11e0-acca-000c29d83bf2\"/>\n  <dateCreated id=\"3\">2020-08-11 15:28:02 UTC</dateCreated>\n  <changedBy reference=\"2\"/>\n  <dateChanged id=\"4\">2020-08-12 06:41:16 UTC</dateChanged>\n  <parameters id=\"5\">\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"6\">\n      <name>startDate</name>\n      <label>Data Inicial</label>\n      <type>java.util.Date</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"7\">\n      <name>endDate</name>\n      <label>Data Final</label>\n      <type>java.util.Date</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"8\">\n      <name>location</name>\n      <label>US</label>\n      <type>org.openmrs.Location</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n  </parameters>\n  <id>2382</id>\n  <sqlQuery>select 	pid.identifier as NID,&#xd;\n		concat(ifnull(pn.given_name,&apos;&apos;),&apos; &apos;,ifnull(pn.middle_name,&apos;&apos;),&apos; &apos;,ifnull(pn.family_name,&apos;&apos;)) nome,&#xd;\n		consultaduplicada.encounter_datetime,&#xd;\n		consultaduplicada.encounters,&#xd;\nconsultaduplicada.patient_id&#xd;\nfrom &#xd;\n(&#xd;\n	select 	p.patient_id,date(encounter_datetime) as encounter_datetime,count(*) encounters&#xd;\n	from 	patient p		 &#xd;\n			inner join encounter e on p.patient_id=e.patient_id 		&#xd;\n	where 	e.voided=0 and p.voided=0 and e.encounter_type in (6,9) and e.location_id=:location and &#xd;\n			e.encounter_datetime between :startDate and :endDate&#xd;\n	group by p.patient_id,date(encounter_datetime)&#xd;\n	having count(*)&gt;=2&#xd;\n) consultaduplicada&#xd;\nleft join&#xd;\n(	select pid1.*&#xd;\n		from patient_identifier pid1&#xd;\n		inner join &#xd;\n			(&#xd;\n				select patient_id,min(patient_identifier_id) id &#xd;\n				from patient_identifier&#xd;\n				where voided=0&#xd;\n				group by patient_id&#xd;\n			) pid2&#xd;\n		where pid1.patient_id=pid2.patient_id and pid1.patient_identifier_id=pid2.id&#xd;\n) pid on pid.patient_id=consultaduplicada.patient_id&#xd;\nleft join &#xd;\n(	select pn1.*&#xd;\n	from person_name pn1&#xd;\n	inner join &#xd;\n		(&#xd;\n			select person_id,min(person_name_id) id &#xd;\n			from person_name&#xd;\n			where voided=0&#xd;\n			group by person_id&#xd;\n		) pn2&#xd;\n	where pn1.person_id=pn2.person_id and pn1.person_name_id=pn2.id&#xd;\n) pn on pn.person_id=consultaduplicada.patient_id</sqlQuery>\n</org.openmrs.module.reporting.dataset.definition.SqlDataSetDefinition>'
;

INSERT INTO serialized_object(name,description,type,subtype,serialization_class,serialized_data,date_created,creator,date_changed,changed_by,retired,date_retired,retired_by,retire_reason,uuid) VALUES ('SQL PARA PRODUCAO DA LISTA DE PACIENTES COM FILAS DUPLICADOS NO MESMO DIA','São pacientes com mais de um fila registado no mesmo dia','org.openmrs.module.reporting.dataset.definition.DataSetDefinition','org.openmrs.module.reporting.dataset.definition.SqlDataSetDefinition','org.openmrs.module.reporting.serializer.ReportingSerializer','<org.openmrs.module.reporting.dataset.definition.SqlDataSetDefinition id=\"1\" uuid=\"af0cae84-af5d-4855-8bbc-6c7c935740cb\" retired=\"false\">\n  <name>SQL PARA PRODUCAO DA LISTA DE PACIENTES COM FILAS DUPLICADOS NO MESMO DIA</name>\n  <description>São pacientes com mais de um fila registado no mesmo dia</description>\n  <creator id=\"2\" uuid=\"85a05c5e-1e3d-11e0-acca-000c29d83bf2\"/>\n  <dateCreated id=\"3\">2020-08-11 15:38:07 UTC</dateCreated>\n  <changedBy reference=\"2\"/>\n  <dateChanged id=\"4\">2020-08-12 06:40:40 UTC</dateChanged>\n  <parameters id=\"5\">\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"6\">\n      <name>startDate</name>\n      <label>Data Inicial</label>\n      <type>java.util.Date</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"7\">\n      <name>endDate</name>\n      <label>Data Final</label>\n      <type>java.util.Date</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"8\">\n      <name>location</name>\n      <label>US</label>\n      <type>org.openmrs.Location</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n  </parameters>\n  <id>2383</id>\n  <sqlQuery>select 	pid.identifier as NID,&#xd;\n		concat(ifnull(pn.given_name,&apos;&apos;),&apos; &apos;,ifnull(pn.middle_name,&apos;&apos;),&apos; &apos;,ifnull(pn.family_name,&apos;&apos;)) nome,&#xd;\n		consultaduplicada.encounter_datetime,&#xd;\n		consultaduplicada.encounters,&#xd;\nconsultaduplicada.patient_id&#xd;\nfrom &#xd;\n(&#xd;\n	select 	p.patient_id,date(encounter_datetime) as encounter_datetime,count(*) encounters&#xd;\n	from 	patient p		 &#xd;\n			inner join encounter e on p.patient_id=e.patient_id 		&#xd;\n	where 	e.voided=0 and p.voided=0 and e.encounter_type=18 and e.location_id=:location and &#xd;\n			e.encounter_datetime between :startDate and :endDate&#xd;\n	group by p.patient_id,date(encounter_datetime)&#xd;\n	having count(*)&gt;=2&#xd;\n) consultaduplicada&#xd;\nleft join&#xd;\n(	select pid1.*&#xd;\n		from patient_identifier pid1&#xd;\n		inner join &#xd;\n			(&#xd;\n				select patient_id,min(patient_identifier_id) id &#xd;\n				from patient_identifier&#xd;\n				where voided=0&#xd;\n				group by patient_id&#xd;\n			) pid2&#xd;\n		where pid1.patient_id=pid2.patient_id and pid1.patient_identifier_id=pid2.id&#xd;\n) pid on pid.patient_id=consultaduplicada.patient_id&#xd;\nleft join &#xd;\n(	select pn1.*&#xd;\n	from person_name pn1&#xd;\n	inner join &#xd;\n		(&#xd;\n			select person_id,min(person_name_id) id &#xd;\n			from person_name&#xd;\n			where voided=0&#xd;\n			group by person_id&#xd;\n		) pn2&#xd;\n	where pn1.person_id=pn2.person_id and pn1.person_name_id=pn2.id&#xd;\n) pn on pn.person_id=consultaduplicada.patient_id	</sqlQuery>\n</org.openmrs.module.reporting.dataset.definition.SqlDataSetDefinition>','2020-08-11 17:38:07',1,'2020-08-12 08:40:40',1,0,NULL,NULL,NULL,'af0cae84-af5d-4855-8bbc-6c7c935740cb')
ON DUPLICATE KEY UPDATE
serialized_data='<org.openmrs.module.reporting.dataset.definition.SqlDataSetDefinition id=\"1\" uuid=\"af0cae84-af5d-4855-8bbc-6c7c935740cb\" retired=\"false\">\n  <name>SQL PARA PRODUCAO DA LISTA DE PACIENTES COM FILAS DUPLICADOS NO MESMO DIA</name>\n  <description>São pacientes com mais de um fila registado no mesmo dia</description>\n  <creator id=\"2\" uuid=\"85a05c5e-1e3d-11e0-acca-000c29d83bf2\"/>\n  <dateCreated id=\"3\">2020-08-11 15:38:07 UTC</dateCreated>\n  <changedBy reference=\"2\"/>\n  <dateChanged id=\"4\">2020-08-12 06:40:40 UTC</dateChanged>\n  <parameters id=\"5\">\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"6\">\n      <name>startDate</name>\n      <label>Data Inicial</label>\n      <type>java.util.Date</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"7\">\n      <name>endDate</name>\n      <label>Data Final</label>\n      <type>java.util.Date</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"8\">\n      <name>location</name>\n      <label>US</label>\n      <type>org.openmrs.Location</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n  </parameters>\n  <id>2383</id>\n  <sqlQuery>select 	pid.identifier as NID,&#xd;\n		concat(ifnull(pn.given_name,&apos;&apos;),&apos; &apos;,ifnull(pn.middle_name,&apos;&apos;),&apos; &apos;,ifnull(pn.family_name,&apos;&apos;)) nome,&#xd;\n		consultaduplicada.encounter_datetime,&#xd;\n		consultaduplicada.encounters,&#xd;\nconsultaduplicada.patient_id&#xd;\nfrom &#xd;\n(&#xd;\n	select 	p.patient_id,date(encounter_datetime) as encounter_datetime,count(*) encounters&#xd;\n	from 	patient p		 &#xd;\n			inner join encounter e on p.patient_id=e.patient_id 		&#xd;\n	where 	e.voided=0 and p.voided=0 and e.encounter_type=18 and e.location_id=:location and &#xd;\n			e.encounter_datetime between :startDate and :endDate&#xd;\n	group by p.patient_id,date(encounter_datetime)&#xd;\n	having count(*)&gt;=2&#xd;\n) consultaduplicada&#xd;\nleft join&#xd;\n(	select pid1.*&#xd;\n		from patient_identifier pid1&#xd;\n		inner join &#xd;\n			(&#xd;\n				select patient_id,min(patient_identifier_id) id &#xd;\n				from patient_identifier&#xd;\n				where voided=0&#xd;\n				group by patient_id&#xd;\n			) pid2&#xd;\n		where pid1.patient_id=pid2.patient_id and pid1.patient_identifier_id=pid2.id&#xd;\n) pid on pid.patient_id=consultaduplicada.patient_id&#xd;\nleft join &#xd;\n(	select pn1.*&#xd;\n	from person_name pn1&#xd;\n	inner join &#xd;\n		(&#xd;\n			select person_id,min(person_name_id) id &#xd;\n			from person_name&#xd;\n			where voided=0&#xd;\n			group by person_id&#xd;\n		) pn2&#xd;\n	where pn1.person_id=pn2.person_id and pn1.person_name_id=pn2.id&#xd;\n) pn on pn.person_id=consultaduplicada.patient_id	</sqlQuery>\n</org.openmrs.module.reporting.dataset.definition.SqlDataSetDefinition>'
;

INSERT INTO serialized_object(name,description,type,subtype,serialization_class,serialized_data,date_created,creator,date_changed,changed_by,retired,date_retired,retired_by,retire_reason,uuid) VALUES ('LISTA DE PACIENTES COM CONSULTAS OU LEVANTAMENTO DUPLICADOS NA MESMA DATA','São pacientes que tiveram consultas ou levantamento duplicados na mesma data','org.openmrs.module.reporting.report.definition.ReportDefinition','org.openmrs.module.reporting.report.definition.ReportDefinition','org.openmrs.module.reporting.serializer.ReportingSerializer','<org.openmrs.module.reporting.report.definition.ReportDefinition id=\"1\" uuid=\"9f19f6ca-3b7c-402a-841d-1161a25c9873\" retired=\"false\">\n  <name>LISTA DE PACIENTES COM CONSULTAS OU LEVANTAMENTO DUPLICADOS NA MESMA DATA</name>\n  <description>São pacientes que tiveram consultas ou levantamento duplicados na mesma data</description>\n  <creator id=\"2\" uuid=\"85a05c5e-1e3d-11e0-acca-000c29d83bf2\"/>\n  <dateCreated id=\"3\">2020-08-12 06:31:53 UTC</dateCreated>\n  <changedBy reference=\"2\"/>\n  <dateChanged id=\"4\">2020-08-12 06:34:43 UTC</dateChanged>\n  <parameters id=\"5\">\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"6\">\n      <name>startDate</name>\n      <label>Data Inicial</label>\n      <type>java.util.Date</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"7\">\n      <name>endDate</name>\n      <label>Data Final</label>\n      <type>java.util.Date</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"8\">\n      <name>location</name>\n      <label>US</label>\n      <type>org.openmrs.Location</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n  </parameters>\n  <id>2384</id>\n  <dataSetDefinitions class=\"linked-hash-map\" id=\"9\">\n    <entry>\n      <string>CONSULTA</string>\n      <org.openmrs.module.reporting.evaluation.parameter.Mapped id=\"10\">\n        <parameterizable class=\"org.openmrs.module.reporting.dataset.definition.SqlDataSetDefinition\" id=\"11\" uuid=\"6c6f07a2-670e-47f5-9ed4-e39d610d555e\"/>\n        <parameterMappings id=\"12\">\n          <entry>\n            <string>startDate</string>\n            <string>${startDate}</string>\n          </entry>\n          <entry>\n            <string>location</string>\n            <string>${location}</string>\n          </entry>\n          <entry>\n            <string>endDate</string>\n            <string>${endDate}</string>\n          </entry>\n        </parameterMappings>\n      </org.openmrs.module.reporting.evaluation.parameter.Mapped>\n    </entry>\n    <entry>\n      <string>FILA</string>\n      <org.openmrs.module.reporting.evaluation.parameter.Mapped id=\"13\">\n        <parameterizable class=\"org.openmrs.module.reporting.dataset.definition.SqlDataSetDefinition\" id=\"14\" uuid=\"af0cae84-af5d-4855-8bbc-6c7c935740cb\"/>\n        <parameterMappings reference=\"12\"/>\n      </org.openmrs.module.reporting.evaluation.parameter.Mapped>\n    </entry>\n  </dataSetDefinitions>\n</org.openmrs.module.reporting.report.definition.ReportDefinition>','2020-08-12 08:31:53',1,'2020-08-12 08:34:44',1,0,NULL,NULL,NULL,'9f19f6ca-3b7c-402a-841d-1161a25c9873')
ON DUPLICATE KEY UPDATE
serialized_data='<org.openmrs.module.reporting.report.definition.ReportDefinition id=\"1\" uuid=\"9f19f6ca-3b7c-402a-841d-1161a25c9873\" retired=\"false\">\n  <name>LISTA DE PACIENTES COM CONSULTAS OU LEVANTAMENTO DUPLICADOS NA MESMA DATA</name>\n  <description>São pacientes que tiveram consultas ou levantamento duplicados na mesma data</description>\n  <creator id=\"2\" uuid=\"85a05c5e-1e3d-11e0-acca-000c29d83bf2\"/>\n  <dateCreated id=\"3\">2020-08-12 06:31:53 UTC</dateCreated>\n  <changedBy reference=\"2\"/>\n  <dateChanged id=\"4\">2020-08-12 06:34:43 UTC</dateChanged>\n  <parameters id=\"5\">\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"6\">\n      <name>startDate</name>\n      <label>Data Inicial</label>\n      <type>java.util.Date</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"7\">\n      <name>endDate</name>\n      <label>Data Final</label>\n      <type>java.util.Date</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n    <org.openmrs.module.reporting.evaluation.parameter.Parameter id=\"8\">\n      <name>location</name>\n      <label>US</label>\n      <type>org.openmrs.Location</type>\n      <required>true</required>\n    </org.openmrs.module.reporting.evaluation.parameter.Parameter>\n  </parameters>\n  <id>2384</id>\n  <dataSetDefinitions class=\"linked-hash-map\" id=\"9\">\n    <entry>\n      <string>CONSULTA</string>\n      <org.openmrs.module.reporting.evaluation.parameter.Mapped id=\"10\">\n        <parameterizable class=\"org.openmrs.module.reporting.dataset.definition.SqlDataSetDefinition\" id=\"11\" uuid=\"6c6f07a2-670e-47f5-9ed4-e39d610d555e\"/>\n        <parameterMappings id=\"12\">\n          <entry>\n            <string>startDate</string>\n            <string>${startDate}</string>\n          </entry>\n          <entry>\n            <string>location</string>\n            <string>${location}</string>\n          </entry>\n          <entry>\n            <string>endDate</string>\n            <string>${endDate}</string>\n          </entry>\n        </parameterMappings>\n      </org.openmrs.module.reporting.evaluation.parameter.Mapped>\n    </entry>\n    <entry>\n      <string>FILA</string>\n      <org.openmrs.module.reporting.evaluation.parameter.Mapped id=\"13\">\n        <parameterizable class=\"org.openmrs.module.reporting.dataset.definition.SqlDataSetDefinition\" id=\"14\" uuid=\"af0cae84-af5d-4855-8bbc-6c7c935740cb\"/>\n        <parameterMappings reference=\"12\"/>\n      </org.openmrs.module.reporting.evaluation.parameter.Mapped>\n    </entry>\n  </dataSetDefinitions>\n</org.openmrs.module.reporting.report.definition.ReportDefinition>'
;